query SearchRules(
  $limit: Int = 50
  $offset: Int = 0
  $orderBy: [rules_order_by!] = [{ updatedAt: desc_nulls_last }]
  $shared: Boolean = true
  $displayName: String = "%%"
) @loading(cascade: true) {
  rules(
    limit: $limit
    offset: $offset
    order_by: $orderBy
    where: { shared: { _eq: $shared }, displayName: { _ilike: $displayName } }
  ) @list(name: "Search_Rules") {
    action
    metadata
    appId
    description
    destination
    destinationPort
    direction
    displayName
    protocol
    shared
    source
    sourcePort
    throttleRate
    updatedAt
    updatedBy
    weight
    ...RuleCardFields
  }
}

# sample to delete cache
mutation DeleteRule($id: ID!) {
  deletePage(id: $id) {
    ... on MutationDeletePageSuccess {
      data {
        title
        id @Rule_delete
      }
    }
  }
}
